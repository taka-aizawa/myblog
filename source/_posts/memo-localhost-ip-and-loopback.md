---
title: ローカルホストのipアドレス、ループバックアドレス
date: 2024-11-12 13:53:04
tags: TCP/IP
category: network
---

[IT LeadersのCADDEの記事](https://it.impress.co.jp/articles/-/26894)を読んでいて理解が足りない箇所があり、調べた際のメモ。

<br>

---
# わからなかったこと①
---

躓いた箇所はこちら。

> ここでは、提供者カタログサイトを5000番ポートで起動しているため、ローカルホストのIPアドレスを指定します。なお、ループバックアドレスやlocalhostを使用すると、提供者コネクタを起動するコンテナ自体を指してしまうことに注意が必要です。ローカルホストのIPアドレスは、Linuxであればip aなどのコマンドから確認できます。
<br>

ローカルホストのIPアドレスは`ip a`などのコマンドから確認できる、とあったので確認してみたが、沢山出てきてどれがローカルホストのアドレスだかわからなかった。

<br>

---
# 調べてわかったこと①
---

Chat-GPT先生に相談しなから調べてみたところ、以下がローカルホストのIPアドレスとのこと。

~~~
inet 127.0.0.1/8 scope host lo
~~~
<br>

これがなぜローカルホストのIPだとわかるか？
<br>

### <u>1. IPアドレスの範囲</u>
`127.0.0.1`は、IPv4の「**ループバックアドレス**」として特別に予約されているアドレス。`127.0.0.1/8`という範囲（`127.0.0.0`から`127.255.255.255`）はすべて、ループバック用途のみに使用され、外部ネットワークと通信せずに、システム内で自身を指すアドレスとして使われる。
<br>

**ループバックアドレスとは？**
自分自身を指すIPアドレス。`127.0.0.1`から`127.255.255.255`であればいくつでもよい。locakhostも自分自身を指すが、こちらはホスト名のこと。

ネットワークの標準仕様として、`127.0.0.1`はlocalhostを指すIPアドレスと定義されており、これはシステム間で共有の設定。

【参考】[ループバックアドレスとは](https://qiita.com/miyuki_samitani/items/22eaecd135bf190e45f0)
（記事内の参考リンクも合わせて読むと理解が深まる）
<br>

### <u>2. インターフェース名が「lo」</u>
`lo`は「loopback（ループバック）」の略で、通常どのシステムでも自分自身への通信のための仮想インターフェース（I/F）にこの名前が付けられている。このI/Fは、<u>システムが外部ネットワークを介さずに自分自身と通信するため</u>に使用される。
<br>

### <u>３. scope host</u>
`scope host`は、このアドレスがホスト内にのみ有効であることを示している。外部からアクセスされることはなく、ホスト内の通信にのみ使われる設定。
<br>

---
# わからなかったこと②
---

ローカルホストのIPアドレスについてはなんとなくわかってきたが、記事の

>なお、ループバックアドレスやlocalhostを使用すると、提供者コネクタを起動するコンテナ自体を指してしまうことに注意が必要です。

という文言がよくわからなくなった。

ローカルホストのIPアドレスを指定するけどlocalhostはNG？
<br>

---
# 多分わかったこと②
---

「ローカルホストに振られているIPアドレスのうち、ループバックアドレス（`127.0.0.1`）やlocalhostが以外のアドレスを指定しましょう」と解釈した。

そのため、職場のプライベートクラウド内で使用しているプライベートネットワークのIPアドレスを指定してみる。

<br>







